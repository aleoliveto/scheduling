.gantt-container{
  --row-height: 64px;
  --grid: var(--g-grid);
  --segment: var(--g-seg);
  --segment-turn: var(--g-turn);
  --danger: var(--bad);
  --warning: var(--warn);

  width:100%;
  border:1px solid var(--line);
  border-radius:14px;
  overflow: hidden;
  background: var(--panel);
  box-shadow: 0 10px 24px rgba(0,0,0,.25);
}

/* Header */
.timeline-header{
  display:grid;
  grid-template-columns: 180px repeat(19, 1fr);
  position: sticky; top:0; z-index:2;
  background: linear-gradient(180deg, #1b1f24, #171a1d);
  border-bottom: 1px solid var(--line);
}
.aircraft-label-placeholder{ height:42px; border-right:1px solid var(--line); }
.timeline-hour{
  height:42px; display:flex; align-items:center; justify-content:center;
  font-size:.85rem; color:#c6cbd2; position:relative;
}
.timeline-hour::after{ content:""; position:absolute; right:0; top:42px; bottom:0; width:1px; background: var(--grid); }

/* Rows */
.aircraft-row{ display:grid; grid-template-columns: 180px 1fr; min-height:var(--row-height); }
.aircraft-label{
  display:flex; align-items:center; gap:10px; padding:0 12px;
  border-right:1px solid var(--line);
  color:#e9edf2; font-weight:700; white-space:nowrap;
}
.timeline{ position:relative; min-height:var(--row-height); border-bottom:1px solid var(--line); background:#13161a; }
.timeline.over{ outline:2px dashed rgba(255,106,0,.45); outline-offset:-2px; }

/* Segments */
.segment{
  position:absolute; height:40px; top:8px;
  border-radius:10px; display:flex; align-items:center;
  padding:0 10px 0 12px; padding-right:80px; gap:10px;
  box-shadow:0 6px 14px rgba(0,0,0,0.35);
  user-select:none; -webkit-user-select:none; touch-action:none;
  transform:translateZ(0); will-change:left,width; z-index:1;
}
.segment.outbound{ background: var(--segment); color:#fff; z-index:2; }
.segment.turnaround{ background: transparent; z-index:0; pointer-events:none; }
.segment.late{ background: var(--warning); color:#222; z-index:2; }
.segment.curfew{ background: var(--danger); color:#fff; z-index:2; }

/* turn band under bar */
.turn-band{
  position:absolute; left:0; right:0; top:46px; height:8px;
  background: var(--segment-turn); border-radius:6px; opacity:.85;
}

/* crew-change marker */
.segment.crew-change{
  background: transparent; border: 2px dashed var(--accent);
  height:24px; top:16px; z-index:4; padding-right:12px; overflow:visible;
}
.crew-change-chip{
  position:absolute; left:50%; transform:translate(-50%,-120%);
  white-space:nowrap; background:#121417; color:var(--accent);
  border:1px solid var(--accent); padding:2px 8px; border-radius:999px;
  box-shadow:0 1px 2px rgba(0,0,0,.35); pointer-events:none;
}

/* text + controls */
.seg-label{
  display:block; flex:1; min-width:0; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;
  font-size: clamp(.68rem, 1.2vw, .88rem); font-weight:700;
}
.start-select.start-pill{
  position:absolute; right:42px; top:50%; transform:translateY(-50%);
  height:24px; line-height:24px; padding:0 6px; font-size:.78rem;
  border-radius:999px; background:#0f1216; color:#e6ebf2;
  border:1px solid #39414a; box-shadow:0 1px 2px rgba(0,0,0,.5);
}
.delete-btn{
  position:absolute; right:6px; top:50%; transform:translateY(-50%);
  border:0; border-radius:8px; background:rgba(0,0,0,.65); color:#fff;
  padding:2px 8px; cursor:pointer; z-index:3;
}
.delete-btn:hover{ background:rgba(0,0,0,.82); }

/* crew badge */
.crew-badge{
  position:absolute; left:8px; top:4px;
  padding:2px 6px; font-size:.7rem; border-radius:999px;
  background: rgba(255,255,255,0.18); color:#fff; backdrop-filter: blur(2px);
}

/* compact */
@media (max-width:1100px){
  .segment{ height:36px; top:6px; padding-right:72px; }
  .turn-band{ top:44px; }
  .timeline-hour{ font-size:.74rem; }
  .gantt-container{ --row-height:60px; }
  .start-select.start-pill{ height:22px; font-size:.74rem; }
}

/* ghost preview */
.segment.preview{
  pointer-events:none; opacity:.28; box-shadow:none;
  border:2px dashed rgba(43,108,255,.6);
  background: rgba(43,108,255,.22); z-index:5;
}
.segment.turnaround.preview{ border:0; background:transparent; }
.turn-band.preview{ opacity:.5; }
.segment.preview.invalid{ border-color: var(--bad); background: rgba(255,77,79,.22); }
